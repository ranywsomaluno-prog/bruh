local Rayfield = loadstring(game:HttpGet('https://sirius.menu/rayfield'))()

-- Personalization settings
local PersonalizationUI = {
    NameUI = "goon hub",
    CreatorName = "rany", 
    LoadingMessage = "rapaz ele t√° sem zap",
    ShowNotifications = true
}

-- Create Window
local Window = Rayfield:CreateWindow({
    Name = PersonalizationUI.NameUI,
    LoadingTitle = PersonalizationUI.NameUI,
    LoadingSubtitle = "by " .. PersonalizationUI.CreatorName,
    ConfigurationSaving = {
        Enabled = true,
        FolderName = "GoonHubConfigs",
        FileName = "GoonHubSettings"
    },
    Discord = {
        Enabled = false,
        Invite = "discord.gg/goonhub", 
        RememberJoins = true
    },
    KeySystem = false,
})

-- Show loading notification
Rayfield:Notify(PersonalizationUI.LoadingMessage, 5)

-- Create tabs
local MainTab = Window:CreateTab("Main", 4483362458)
local SettingsTab = Window:CreateTab("Settings", 4483362458)

-- Variables for auto farm
local AutoFarmEnabled = false
local FarmDelay = 1
local BeanstalkRemote = game:GetService("ReplicatedStorage"):WaitForChild("BeanstalkRESubmitAllPlant")

-- Function to execute remote
local function ExecuteRemote()
    local success, errorMessage = pcall(function()
        BeanstalkRemote:FireServer()
    end)
    
    if success then
        if PersonalizationUI.ShowNotifications then
            Rayfield:Notify("Remote executed successfully!", 3)
        end
        print("Beanstalk remote executed successfully")
    else
        warn("Error executing remote: " .. tostring(errorMessage))
        if PersonalizationUI.ShowNotifications then
            Rayfield:Notify("Error executing remote!", 3)
        end
    end
end

-- Auto farm function
local function StartAutoFarm()
    while AutoFarmEnabled do
        ExecuteRemote()
        task.wait(FarmDelay)
    end
end

-- Create Beanstalk section
local BeanstalkSection = MainTab:CreateSection("Beanstalk Farm")

-- Auto Farm Toggle
local AutoFarmToggle = MainTab:CreateToggle({
    Name = "Auto Farm Beanstalk",
    CurrentValue = false,
    Callback = function(Value)
        AutoFarmEnabled = Value
        if Value then
            if PersonalizationUI.ShowNotifications then
                Rayfield:Notify("Auto Farm started!", 3)
            end
            print("Auto Farm started with delay: " .. FarmDelay .. "s")
            -- Start auto farm in a separate thread
            coroutine.wrap(StartAutoFarm)()
        else
            if PersonalizationUI.ShowNotifications then
                Rayfield:Notify("Auto Farm stopped!", 3)
            end
            print("Auto Farm stopped")
        end
    end,
})

-- Delay Slider
local DelaySlider = MainTab:CreateSlider({
    Name = "Farm Delay (seconds)",
    Range = {1, 5},
    Increment = 1,
    Suffix = "s",
    CurrentValue = 1,
    Callback = function(Value)
        FarmDelay = Value
        if PersonalizationUI.ShowNotifications then
            Rayfield:Notify("Delay set to: " .. Value .. "s", 2)
        end
        print("Farm delay set to: " .. Value .. "s")
    end,
})

-- Execute Once Button
local ExecuteOnceButton = MainTab:CreateButton({
    Name = "Execute Once",
    Callback = function()
        ExecuteRemote()
    end,
})

-- Settings Tab
local UISettingsSection = SettingsTab:CreateSection("UI Settings")

local NotificationsToggle = SettingsTab:CreateToggle({
    Name = "Show Notifications",
    CurrentValue = PersonalizationUI.ShowNotifications,
    Callback = function(Value)
        PersonalizationUI.ShowNotifications = Value
        Rayfield:Notify("Notifications " .. (Value and "enabled" or "disabled"), 2)
    end,
})

-- Set watermark
Rayfield:SetWatermark("Goon Hub by " .. PersonalizationUI.CreatorName)

print("[" .. PersonalizationUI.NameUI .. "] Loaded successfully! Created by " .. PersonalizationUI.CreatorName)
